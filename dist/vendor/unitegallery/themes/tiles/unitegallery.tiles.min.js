function UGTheme_tiles(){var e,t,n,r,i,o=new UniteGalleryMain,a=new UGTiles,l=new UGLightbox,s=new UGFunctions,u=new UGTileDesign,d={theme_enable_preloader:!0,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null},_={gallery_width:"100%"},h={showPreloader:!1};function p(r,i){o=r,d=jQuery.extend(d,_),d=jQuery.extend(d,i),function(){1==d.theme_enable_preloader&&(h.showPreloader=!0);switch(d.theme_appearance_order){default:case"normal":break;case"shuffle":o.shuffleItems();break;case"keep":d.tiles_keep_order=!0}}(),o.setOptions(d),o.setFreestyleMode(),t=r.getObjects(),e=jQuery(r),n=t.g_objWrapper,a.init(r,d),l.init(r,d),u=a.getObjTileDesign()}function g(){r&&(r.fadeTo(0,1),n.height(d.theme_preloading_height),s.placeElement(r,"center",d.theme_preloader_vertpos)),function(){r&&jQuery(a).on(a.events.TILES_FIRST_PLACED,function(){n.height("auto"),r.hide()});jQuery(u).on(u.events.TILE_CLICK,f),e.on(o.events.GALLERY_BEFORE_REQUEST_ITEMS,m),jQuery(l).on(l.events.LIGHTBOX_INIT,y)}(),a.run(),l.run()}function c(){n.addClass("ug-theme-tiles"),n.append("<div class='ug-tiles-wrapper' style='position:relative'></div>"),1==h.showPreloader&&(n.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(r=n.children(".ug-tiles-preloader")).fadeTo(0,0)),i=n.children(".ug-tiles-wrapper"),d.theme_gallery_padding&&n.css({"padding-left":d.theme_gallery_padding+"px","padding-right":d.theme_gallery_padding+"px"}),a.setHtml(i),l.putHtml(),g()}function f(e,t){t=jQuery(t);var n=u.getItemByTile(t).index;l.open(n)}function m(){if(i.hide(),r){r.show();var e=s.getElementSize(r).bottom+30;n.height(e)}}function y(){null!==d.theme_auto_open&&(l.open(d.theme_auto_open),d.theme_auto_open=null)}this.destroy=function(){jQuery(u).off(u.events.TILE_CLICK),jQuery(a).off(a.events.TILES_FIRST_PLACED),e.off(o.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(l).off(l.events.LIGHTBOX_INIT),a.destroy(),l.destroy()},this.run=function(){c()},this.init=function(e,t){p(e,t)}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tiles"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")});
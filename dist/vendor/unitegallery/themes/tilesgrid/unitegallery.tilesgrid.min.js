function UGTheme_tilesgrid(){var e,t,n,i,a,o,l,r,_=new UniteGalleryMain,s=new UGThumbsGrid,g=new UGLightbox,u=new UGFunctions,d=new UGTileDesign,h={theme_gallery_padding:0,theme_grid_align:"center",theme_navigation_type:"bullets",theme_arrows_margin_top:20,theme_space_between_arrows:5,theme_bullets_margin_top:40,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_bullets_color:"gray",theme_auto_open:null},m={gallery_width:"100%",tile_width:180,tile_height:150,grid_num_rows:3,grid_padding:10,tile_enable_border:!0,tile_enable_shadow:!0,tile_border_radius:2,grid_space_between_cols:20,grid_space_between_rows:20,grid_space_between_mobile:15,bullets_space_between:12,grid_vertical_scroll_ondrag:!0};function c(i,a){_=i,h=jQuery.extend(h,m),h=jQuery.extend(h,a),function(){h.grid_num_rows||(h.grid_num_rows=9999);h.bullets_addclass="ug-bullets-"+h.theme_bullets_color}(),_.setOptions(h),_.setFreestyleMode(),t=i.getObjects(),e=jQuery(i),n=t.g_objWrapper,g.init(i,h),s.init(i,h,!0),d=s.getObjTileDesign()}function p(){var e=_.getSize().width;return e-=2*h.theme_gallery_padding}function f(){var t,m,c=p(),f=(t=c,m=s.getHeightEstimationByWidth(t),s.getNumPanesEstimationByWidth(t)>1&&("arrows"==h.theme_navigation_type?(m+=h.theme_arrows_margin_top,m+=30):(m+=h.theme_bullets_margin_top,m+=15)),m);n.height(f);c=p();!function(){e.on(_.events.SIZE_CHANGE,y),e.on(_.events.GALLERY_BEFORE_REQUEST_ITEMS,T),i&&s.attachBullets(i);a&&(s.attachNextPaneButton(l),s.attachPrevPaneButton(o));jQuery(d).on(d.events.TILE_CLICK,E),jQuery(g).on(g.events.LIGHTBOX_INIT,I)}(),u.placeElement(r,h.theme_grid_align,50),s.setWidth(c),s.run(),g.run(),w(),b()}function v(){!function(){if("bullets"==h.theme_navigation_type){i=new UGBullets;var e=p(),t=s.getNumPanesEstimationByWidth(e),u=_.getOptions();i.init(_,u,t)}if(n.addClass("ug-theme-tilesfixed"),s.setHtml(),i&&i.appendHTML(n),"arrows"==h.theme_navigation_type){var d="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";d+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",d+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",d+="</div>",n.append(d),a=n.children(".ug-tile-navigation-wrapper"),o=a.children(".ug-button-tile-left"),l=a.children(".ug-button-tile-right"),o.css("margin-right",h.theme_space_between_arrows+"px")}g.putHtml(),n.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(r=n.children(".ug-tiles-preloader")).fadeTo(0,0)}(),f()}function b(){_.getSize();var e=s.getSize(),t=s.getElement();u.placeElement(t,h.theme_grid_align,0);var o=(e=s.getSize()).height;if(s.getNumPanes()>1){if(i){i.getElement().show();var l=i.getElement(),r=i.getBulletsWidth(),g=e.left+u.getElementRelativePos(r,h.theme_navigation_align,h.theme_navigation_offset_hor,t);u.placeElement(l,g,o+h.theme_bullets_margin_top),o=u.getElementSize(l).bottom}if(a){a.show();var d=e.left+u.getElementRelativePos(a,h.theme_navigation_align,h.theme_navigation_offset_hor,t);u.placeElement(a,d,o+h.theme_arrows_margin_top),o=u.getElementSize(a).bottom}}else a&&a.hide(),i&&i.getElement().hide();n.height(o)}function E(e,t){var n=(t=jQuery(t)).index();g.open(n)}function w(){if(!i)return!1;numPanes=s.getNumPanes(),i.updateNumBullets(numPanes),i.setActive(0)}function y(){var e=p();s.setWidth(e),s.run(),w(),setTimeout(b,500)}function E(e,t){t=jQuery(t);var n=d.getItemByTile(t).index;g.open(n)}function T(){a&&a.hide(),s&&s.getElement().hide(),r.fadeTo(0,1)}function I(){null!==h.theme_auto_open&&(g.open(h.theme_auto_open),h.theme_auto_open=null)}this.destroy=function(){e.off(_.events.SIZE_CHANGE),e.off(_.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(d).off(d.events.TILE_CLICK),i&&jQuery(i).off(i.events.BULLET_CLICK),jQuery(g).off(g.events.LIGHTBOX_INIT),s.destroy(),g.destroy()},this.run=function(){v()},this.init=function(e,t){c(e,t)}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tilesgrid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tilesgrid")});
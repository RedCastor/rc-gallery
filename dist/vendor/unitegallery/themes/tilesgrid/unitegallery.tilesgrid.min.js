function UGTheme_tilesgrid(){function e(e,t){v=e,T=jQuery.extend(T,I),T=jQuery.extend(T,t),function(){T.grid_num_rows||(T.grid_num_rows=9999);T.bullets_addclass="ug-bullets-"+T.theme_bullets_color}(),v.setOptions(T),v.setFreestyleMode(),u=e.getObjects(),g=jQuery(e),d=u.g_objWrapper,E.init(e,T),b.init(e,T,!0),y=b.getObjTileDesign()}function t(){var e=v.getSize().width;return e-=2*T.theme_gallery_padding}function n(){var e=function(e){var t=b.getHeightEstimationByWidth(e);return b.getNumPanesEstimationByWidth(e)>1&&("arrows"==T.theme_navigation_type?(t+=T.theme_arrows_margin_top,t+=30):(t+=T.theme_bullets_margin_top,t+=15)),t}(n=t());d.height(e);var n=t();!function(){g.on(v.events.SIZE_CHANGE,l),g.on(v.events.GALLERY_BEFORE_REQUEST_ITEMS,_),h&&b.attachBullets(h);m&&(b.attachNextPaneButton(p),b.attachPrevPaneButton(c));jQuery(y).on(y.events.TILE_CLICK,o),jQuery(E).on(E.events.LIGHTBOX_INIT,s)}(),w.placeElement(f,T.theme_grid_align,50),b.setWidth(n),b.run(),E.run(),r(),a()}function i(){!function(){if("bullets"==T.theme_navigation_type){h=new UGBullets;var e=t(),n=b.getNumPanesEstimationByWidth(e),i=v.getOptions();h.init(v,i,n)}if(d.addClass("ug-theme-tilesfixed"),b.setHtml(),h&&h.appendHTML(d),"arrows"==T.theme_navigation_type){var a="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";a+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",a+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",a+="</div>",d.append(a),m=d.children(".ug-tile-navigation-wrapper"),c=m.children(".ug-button-tile-left"),p=m.children(".ug-button-tile-right"),c.css("margin-right",T.theme_space_between_arrows+"px")}E.putHtml(),d.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(f=d.children(".ug-tiles-preloader")).fadeTo(0,0)}(),n()}function a(){v.getSize();var e=b.getSize(),t=b.getElement();w.placeElement(t,T.theme_grid_align,0);var n=(e=b.getSize()).height;if(b.getNumPanes()>1){if(h){h.getElement().show();var i=h.getElement(),a=h.getBulletsWidth(),o=e.left+w.getElementRelativePos(a,T.theme_navigation_align,T.theme_navigation_offset_hor,t);w.placeElement(i,o,n+T.theme_bullets_margin_top);n=w.getElementSize(i).bottom}if(m){m.show();var r=e.left+w.getElementRelativePos(m,T.theme_navigation_align,T.theme_navigation_offset_hor,t);w.placeElement(m,r,n+T.theme_arrows_margin_top);n=w.getElementSize(m).bottom}}else m&&m.hide(),h&&h.getElement().hide();d.height(n)}function o(e,t){var n=(t=jQuery(t)).index();E.open(n)}function r(){if(!h)return!1;numPanes=b.getNumPanes(),h.updateNumBullets(numPanes),h.setActive(0)}function l(){var e=t();b.setWidth(e),b.run(),r(),setTimeout(a,500)}function o(e,t){t=jQuery(t);var n=y.getItemByTile(t).index;E.open(n)}function _(){m&&m.hide(),b&&b.getElement().hide(),f.fadeTo(0,1)}function s(){null!==T.theme_auto_open&&(E.open(T.theme_auto_open),T.theme_auto_open=null)}var g,u,d,h,m,c,p,f,v=new UniteGalleryMain,b=new UGThumbsGrid,E=new UGLightbox,w=new UGFunctions,y=new UGTileDesign,T={theme_gallery_padding:0,theme_grid_align:"center",theme_navigation_type:"bullets",theme_arrows_margin_top:20,theme_space_between_arrows:5,theme_bullets_margin_top:40,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_bullets_color:"gray",theme_auto_open:null},I={gallery_width:"100%",tile_width:180,tile_height:150,grid_num_rows:3,grid_padding:10,tile_enable_border:!0,tile_enable_shadow:!0,tile_border_radius:2,grid_space_between_cols:20,grid_space_between_rows:20,grid_space_between_mobile:15,bullets_space_between:12,grid_vertical_scroll_ondrag:!0};this.destroy=function(){g.off(v.events.SIZE_CHANGE),g.off(v.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(y).off(y.events.TILE_CLICK),h&&jQuery(h).off(h.events.BULLET_CLICK),jQuery(E).off(E.events.LIGHTBOX_INIT),b.destroy(),E.destroy()},this.run=function(){i()},this.init=function(t,n){e(t,n)}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tilesgrid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tilesgrid")});
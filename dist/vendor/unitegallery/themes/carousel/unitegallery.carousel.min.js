function UGTheme_carousel(){function e(){var e=f.getSize().width;return e-=2*w.theme_gallery_padding}function t(){var t=function(){var e=p.getEstimatedHeight();_&&(e+=_.height()+w.theme_navigation_margin);return e}();g.height(t);var n=e();!function(){_&&(p.setScrollLeftButton(h),p.setScrollRightButton(c),v&&p.setPlayPauseButton(v));u.on(f.events.SIZE_CHANGE,o),u.on(f.events.GALLERY_BEFORE_REQUEST_ITEMS,l),jQuery(E).on(E.events.TILE_CLICK,a),u.on(b.events.API_INIT_FUNCTIONS,r)}(),p.setMaxWidth(n),p.run(),m.run(),i()}function n(){!function(){if(g.addClass("ug-theme-carousel"),p.setHtml(g),1==w.theme_enable_navigation){var e="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";e+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",1==w.theme_navigation_enable_play&&(e+="<div class='ug-button-tile-navigation ug-button-tile-play'></div>"),e+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",e+="</div>",g.append(e),_=g.children(".ug-tile-navigation-wrapper"),c=_.children(".ug-button-tile-left"),h=_.children(".ug-button-tile-right"),c.css("margin-right",w.theme_space_between_arrows+"px"),1==w.theme_navigation_enable_play&&(v=_.children(".ug-button-tile-play")).css("margin-right",w.theme_space_between_arrows+"px")}m.putHtml(),g.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(d=g.children(".ug-tiles-preloader")).fadeTo(0,0)}(),t()}function i(){var e=p.getElement(),t=y.getElementSize(e),n=0;if(_){var i=y.getElementSize(_);n=i.height}var a=t.height;n>0&&(a+=w.theme_navigation_margin+n);var o=0;if(_){var l=t.height+w.theme_navigation_margin;"top"==w.theme_navigation_position&&(o=i.height+w.theme_navigation_margin,l=0)}y.placeElement(e,w.theme_carousel_align,o,w.theme_carousel_offset,0);t=y.getElementSize(e);if(_){var r=t.left+y.getElementRelativePos(_,w.theme_navigation_align,w.theme_navigation_offset_hor,e);y.placeElement(_,r,l)}g.height(a),y.placeElement(d,"center",50)}function a(e,t){t=jQuery(t);var n=E.getItemByTile(t).index;m.open(n)}function o(){var t=e();p.setMaxWidth(t),p.run(),i()}function l(){p.stopAutoplay(),p.getElement().hide(),_&&_.hide(),d.fadeTo(0,1)}function r(e,t){t.carouselStartAutoplay=function(){p.startAutoplay()},t.carouselStopAutoplay=function(){p.stopAutoplay()},t.carouselPause=function(){p.pauseAutoplay()},t.carouselUnpause=function(){p.unpauseAutoplay()},t.scrollLeft=function(e){p.scrollLeft(e)},t.scrollRight=function(e){p.scrollRight(e)}}var u,s,g,_,c,h,v,d,f=new UniteGalleryMain,m=new UGLightbox,p=new UGCarousel,y=new UGFunctions,E=new UGTileDesign,b=new UG_API,w={theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5},T={gallery_width:"100%",tile_width:160,tile_height:160,tile_enable_border:!0,tile_enable_outline:!0,carousel_vertical_scroll_ondrag:!0};this.destroy=function(){_&&(y.destroyButton(h),y.destroyButton(c),v&&y.destroyButton(v)),u.off(f.events.SIZE_CHANGE),jQuery(E).off(E.events.TILE_CLICK),u.off(f.events.GALLERY_BEFORE_REQUEST_ITEMS),p.destroy(),m.destroy()},this.run=function(){n()},this.init=function(e,t){!function(e,t){f=e,w=jQuery.extend(w,T),w=jQuery.extend(w,t),f.setOptions(w),f.setFreestyleMode(),s=e.getObjects(),u=jQuery(e),g=s.g_objWrapper,m.init(e,w),p.init(e,w),E=p.getObjTileDesign()}(e,t)}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("carousel"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("carousel")});
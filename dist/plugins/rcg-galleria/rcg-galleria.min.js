!function(e,t){"use strict";var r=e.module("rcGalleryGalleria",[]);r.provider("rcGalleryGalleria",[function(){this.loadUrls=[],this.setUrls=function(t){e.isArray(t)&&(this.loadUrls=t)},this.setThemeUrls=function(t){e.isArray(t)&&(this.themeUrls=t)},this.$get=[function(){var e=this.loadUrls,t=this.themeUrls;return{getLoadUrls:function(){return e},getThemeUrls:function(){return t}}}]}]),r.directive("rcgGalleria",["$interval","rcGalleryGalleria",function(t,r){return{restrict:"EA",require:"^rc-gallery",link:function(i,n,l,a){var s,h,o;function d(){t.cancel(o)}a.addLoadUrls(r.getLoadUrls()),i.$on("$destroy",function(){s&&s.destroy&&s.destroy()}),h=i.$watch(function(){return a.isReady},function(i){if(!0===i){h();var n=0;o=t(function(){if(0!==a.mediaGalleryElement.length&&e.isDefined(window.Galleria)){if(d(),a.theme&&a.theme.length>0&&e.extend(a.options,{theme:a.theme}),a.width){var t=a.width.substr(a.width.length-2),i=parseFloat(a.width.substr(0,t.length+1));"vw"===t&&(i=a.vwTOpx(parseFloat(i,10))),isNaN(i)||e.extend(a.options,{width:i})}if(a.height){var l=a.height.substr(a.height.length-2),h=parseFloat(a.height.substr(0,l.length+1));"vh"===l&&(h=a.vhTOpx(h)),isNaN(h)||e.extend(a.options,{height:h})}var o=e.extend({},a.options,{extend:function(){s=this}});e.forEach(r.getThemeUrls(),function(e){Galleria.loadTheme(e)}),Galleria.run(a.mediaGalleryElement,o),a.setMediaReady()}else n>=240&&d();n++},250)}})}}}])}(angular,jQuery);
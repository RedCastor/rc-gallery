{"version":3,"sources":["rcg-galleria.js"],"names":["angular","$","module","provider","rcGalleryGalleriaProvider","this","loadUrls","setUrls","urls","isArray","setThemeUrls","themeUrls","$get","load_urls","theme_urls","getLoadUrls","getThemeUrls","directive","$interval","rcGalleryGalleria","restrict","require","link","scope","elem","attrs","rcGalleryApi","galleriaApi","un_watch_is_ready","stop_gallery_elem","stop_find_gallery_elem","cancel","init","is_ready","n_interval","mediaGalleryElement","length","isDefined","window","Galleria","theme","extend","options","width","width_unit","substr","parseFloat","vwTOpx","isNaN","height","height_unit","vhTOpx","forEach","url","loadTheme","run","setMediaReady","addLoadUrls","$on","destroy","$watch","isReady","jQuery"],"mappings":"CAAC,SAAUA,SAASC;IAEhB;IAEA,IAAIC,SAASF,QAAQE,OAAO,qBAAqB;IAGjDA,OAAOC,SAAS,qBAAqB,EAAE,SAASC;QAE5CC,KAAKC,WAAW;QAEhBD,KAAKE,UAAU,SAAUC;YACrB,IAAKR,QAAQS,QAAQD,OAAQ;gBACzBH,KAAKC,WAAWE;;;QAIxBH,KAAKK,eAAe,SAAUF;YAC1B,IAAKR,QAAQS,QAAQD,OAAQ;gBACzBH,KAAKM,YAAYH;;;QAIzBH,KAAKO,OAAO,EAAE;YAEV,IAAIC,YAAYR,KAAKC;YACrB,IAAIQ,aAAaT,KAAKM;YAEtB,OAAO;gBACHI,aAAa;oBACT,OAAOF;;gBAEXG,cAAc;oBACV,OAAOF;;;;;IASvBZ,OAAOe,UAAU,eAAe,EAAE,aAAa,qBAAqB,SAAWC,WAAWC;QACtF,OAAO;YACHC,UAAU;YACVC,SAAS;YACTC,MAAM,SAAUC,OAAOC,MAAMC,OAAOC;gBAEhC,IAAIC;gBACJ,IAAIC;gBACJ,IAAIC;gBAEJ,SAASC;oBACLZ,UAAUa,OAAOF;;gBAKrB,SAASG,KAAOC;oBAEZ,IAAIA,aAAa,MAAM;wBAEnBL;wBAEA,IAAIM,aAAa;wBAEjBL,oBAAoBX,UAAU;4BAE1B,IAAKQ,aAAaS,oBAAoBC,WAAW,KAAKpC,QAAQqC,UAAUC,OAAOC,WAAY;gCACvFT;gCAGA,IAAKJ,aAAac,SAASd,aAAac,MAAMJ,SAAS,GAAI;oCACvDpC,QAAQyC,OAAOf,aAAagB,SAAS;wCAACF,OAAOd,aAAac;;;gCAI9D,IAAId,aAAaiB,OAAO;oCACpB,IAAIC,aAAalB,aAAaiB,MAAME,OAAOnB,aAAaiB,MAAMP,SAAS;oCACvE,IAAIO,QAAQG,WAAWpB,aAAaiB,MAAME,OAAO,GAAGD,WAAWR,SAAS;oCAExE,IAAIQ,eAAe,MAAM;wCACrBD,QAAQjB,aAAaqB,OAAQD,WAAWH,OAAO;;oCAGnD,KAAMK,MAAML,QAAS;wCACjB3C,QAAQyC,OAAOf,aAAagB,SAAS;4CAACC,OAAOA;;;;gCAMrD,IAAIjB,aAAauB,QAAQ;oCACrB,IAAIC,cAAcxB,aAAauB,OAAOJ,OAAOnB,aAAauB,OAAOb,SAAS;oCAC1E,IAAIa,SAASH,WAAWpB,aAAauB,OAAOJ,OAAO,GAAGK,YAAYd,SAAS;oCAE3E,IAAIc,gBAAgB,MAAM;wCACtBD,SAASvB,aAAayB,OAAQF;;oCAGlC,KAAMD,MAAMC,SAAU;wCAClBjD,QAAQyC,OAAOf,aAAagB,SAAS;4CAACO,QAAQA;;;;gCAItD,IAAIP,UAAU1C,QAAQyC,OAAO,IAAIf,aAAagB,SAAS;oCAACD,QAAQ;wCAAad,cAActB;;;gCAE3FL,QAAQoD,QAAQjC,kBAAkBH,gBAAgB,SAAUqC;oCACxDd,SAASe,UAAUD;;gCAGvBd,SAASgB,IACL7B,aAAaS,qBACbO;gCAGJhB,aAAa8B;mCAEZ,IAAKtB,cAAc,KAAM;gCAC1BJ;;4BAGJI;2BACD;;;gBAMXR,aAAa+B,YAAYtC,kBAAkBJ;gBAE3CQ,MAAMmC,IAAI,YAAY;oBAClB,IAAG/B,eAAeA,YAAYgC,SAAS;wBACnChC,YAAYgC;;;gBAMpB/B,oBAAoBL,MAAMqC,OAAO;oBAC7B,OAAOlC,aAAamC;mBACrB7B;;;;EA7InB,CAmJEhC,SAAS8D","file":"rcg-galleria.js","sourcesContent":["(function (angular, $) {\n\n    'use strict';\n\n    var module = angular.module('rcGalleryGalleria', []);\n\n\n    module.provider('rcGalleryGalleria', [ function rcGalleryGalleriaProvider() {\n\n        this.loadUrls = [];\n\n        this.setUrls = function( urls ){\n            if ( angular.isArray(urls) ) {\n                this.loadUrls = urls;\n            }\n        };\n\n        this.setThemeUrls = function( urls ){\n            if ( angular.isArray(urls) ) {\n                this.themeUrls = urls;\n            }\n        };\n\n        this.$get = [ function() {\n\n            var load_urls = this.loadUrls;\n            var theme_urls = this.themeUrls;\n\n            return {\n                getLoadUrls: function () {\n                    return load_urls;\n                },\n                getThemeUrls: function () {\n                    return theme_urls;\n                }\n            };\n        }];\n\n    }]);\n\n\n\n    module.directive('rcgGalleria', [ '$interval', 'rcGalleryGalleria', function ( $interval, rcGalleryGalleria) {\n        return {\n            restrict: 'EA',\n            require: \"^rc-gallery\",\n            link: function (scope, elem, attrs, rcGalleryApi) {\n\n                var galleriaApi;\n                var un_watch_is_ready;\n                var stop_gallery_elem;\n\n                function stop_find_gallery_elem() {\n                    $interval.cancel(stop_gallery_elem);\n                }\n\n\n                // INIT\n                function init ( is_ready ) {\n\n                    if (is_ready === true) {\n                        //Remove this watching.\n                        un_watch_is_ready();\n\n                        var n_interval = 0;\n\n                        stop_gallery_elem = $interval(function() {\n\n                            if ( rcGalleryApi.mediaGalleryElement.length !== 0 && angular.isDefined(window.Galleria) ) {\n                                stop_find_gallery_elem();\n\n                                //Extend with theme.\n                                if ( rcGalleryApi.theme && rcGalleryApi.theme.length > 0 ) {\n                                    angular.extend(rcGalleryApi.options, {theme: rcGalleryApi.theme});\n                                }\n\n                                //Extend with width.\n                                if (rcGalleryApi.width) {\n                                    var width_unit = rcGalleryApi.width.substr(rcGalleryApi.width.length - 2);\n                                    var width = parseFloat(rcGalleryApi.width.substr(0, width_unit.length + 1));\n\n                                    if (width_unit === 'vw') {\n                                        width = rcGalleryApi.vwTOpx( parseFloat(width, 10) );\n                                    }\n\n                                    if ( !isNaN(width) ) {\n                                        angular.extend(rcGalleryApi.options, {width: width});\n                                    }\n                                }\n\n\n                                //Extend with height.\n                                if (rcGalleryApi.height) {\n                                    var height_unit = rcGalleryApi.height.substr(rcGalleryApi.height.length - 2);\n                                    var height = parseFloat(rcGalleryApi.height.substr(0, height_unit.length + 1));\n\n                                    if (height_unit === 'vh') {\n                                        height = rcGalleryApi.vhTOpx( height );\n                                    }\n\n                                    if ( !isNaN(height) ) {\n                                        angular.extend(rcGalleryApi.options, {height: height});\n                                    }\n                                }\n\n                                var options = angular.extend({}, rcGalleryApi.options, {extend: function () {galleriaApi = this;}});\n\n                                angular.forEach(rcGalleryGalleria.getThemeUrls(), function (url) {\n                                    Galleria.loadTheme(url);\n                                });\n\n                                Galleria.run(\n                                    rcGalleryApi.mediaGalleryElement,\n                                    options\n                                );\n\n                                rcGalleryApi.setMediaReady();\n                            }\n                            else if ( n_interval >= 240 ) {\n                                stop_find_gallery_elem();\n                            }\n\n                            n_interval++;\n                        }, 250);\n                    }\n\n                }\n\n\n                rcGalleryApi.addLoadUrls(rcGalleryGalleria.getLoadUrls());\n\n                scope.$on('$destroy', function() {\n                    if(galleriaApi && galleriaApi.destroy) {\n                        galleriaApi.destroy();\n                    }\n                });\n\n\n                // Watchers\n                un_watch_is_ready = scope.$watch(function() {\n                    return rcGalleryApi.isReady;\n                }, init);\n\n            }\n        };\n    }]);\n\n}(angular, jQuery));\n"],"sourceRoot":"scripts/"}
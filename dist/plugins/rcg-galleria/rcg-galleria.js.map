{"version":3,"sources":["rcg-galleria.js"],"names":["angular","$","module","provider","rcGalleryGalleriaProvider","this","loadUrls","setUrls","urls","isArray","setThemeUrls","themeUrls","$get","load_urls","theme_urls","getLoadUrls","getThemeUrls","directive","$log","$interval","rcGalleryGalleria","restrict","require","link","scope","elem","attrs","rcGalleryApi","galleriaApi","un_watch_is_ready","stop_gallery_elem","stop_find_gallery_elem","cancel","init","is_ready","n_interval","mediaGalleryElement","length","isDefined","window","Galleria","theme","extend","options","width","parseInt","isNaN","height","forEach","url","loadTheme","debug","run","setMediaReady","addLoadUrls","$on","destroy","$watch","isReady","jQuery"],"mappings":"CAAC,SAAUA,SAASC;IAEhB;IAEA,IAAIC,SAASF,QAAQE,OAAO;IAG5BA,OAAOC,SAAS,uBAAuB,SAASC;QAE5CC,KAAKC;QAELD,KAAKE,UAAU,SAAUC;YACrB,IAAKR,QAAQS,QAAQD,OAAQ;gBACzBH,KAAKC,WAAWE;;;QAIxBH,KAAKK,eAAe,SAAUF;YAC1B,IAAKR,QAAQS,QAAQD,OAAQ;gBACzBH,KAAKM,YAAYH;;;QAIzBH,KAAKO,SAAS;YAEV,IAAIC,YAAYR,KAAKC;YACrB,IAAIQ,aAAaT,KAAKM;YAEtB;gBACII,aAAa;oBACT,OAAOF;;gBAEXG,cAAc;oBACV,OAAOF;;;;;IASvBZ,OAAOe,UAAU,iBAAiB,QAAQ,aAAa,qBAAqB,SAAWC,MAAMC,WAAWC;QACpG;YACIC,UAAU;YACVC,SAAS;YACTC,MAAM,SAAUC,OAAOC,MAAMC,OAAOC;gBAEhC,IAAIC;gBACJ,IAAIC;gBACJ,IAAIC;gBAEJ,SAASC;oBACLZ,UAAUa,OAAOF;;gBAKrB,SAASG,KAAOC;oBAEZ,IAAIA,aAAa,MAAM;wBAEnBL;wBAEA,IAAIM,aAAa;wBAEjBL,oBAAoBX,UAAU;4BAE1B,IAAKQ,aAAaS,oBAAoBC,WAAW,KAAKrC,QAAQsC,UAAUC,OAAOC,WAAY;gCACvFT;gCAGA,IAAKJ,aAAac,SAASd,aAAac,MAAMJ,SAAS,GAAI;oCACvDrC,QAAQ0C,OAAOf,aAAagB;wCAAUF,OAAOd,aAAac;;;gCAI9D,IAAIG,QAAQC,SAASlB,aAAaiB,OAAO;gCACzC,KAAME,MAAMF,QAAS;oCACjB5C,QAAQ0C,OAAOf,aAAagB;wCAAUC,OAAOA;;;gCAIjD,IAAIG,SAASF,SAASlB,aAAaoB,QAAQ;gCAC3C,KAAMD,MAAMC,SAAU;oCAClB/C,QAAQ0C,OAAOf,aAAagB;wCAAUI,QAAQA;;;gCAGlD,IAAIJ,UAAU3C,QAAQ0C,WAAWf,aAAagB;oCAAUD,QAAQ;wCAAad,cAAcvB;;;gCAE3FL,QAAQgD,QAAQ5B,kBAAkBJ,gBAAgB,SAAUiC;oCACxDT,SAASU,UAAUD;;gCAGvB/B,KAAKiC,MAAMR;gCAEXH,SAASY,IACLzB,aAAaS,qBACbO;gCAGJhB,aAAa0B;mCAEZ,IAAKlB,cAAc,KAAM;gCAC1BJ;;4BAGJI;2BACD;;;gBAMXR,aAAa2B,YAAYlC,kBAAkBL;gBAE3CS,MAAM+B,IAAI,YAAY;oBAClB,IAAG3B,eAAeA,YAAY4B,SAAS;wBACnC5B,YAAY4B;;;gBAMpB3B,oBAAoBL,MAAMiC,OAAO;oBAC7B,OAAO9B,aAAa+B;mBACrBzB;;;;EA9HnB,CAoIEjC,SAAS2D","file":"rcg-galleria.js","sourcesContent":["(function (angular, $) {\n\n    'use strict';\n\n    var module = angular.module('rcGalleryGalleria', []);\n\n\n    module.provider('rcGalleryGalleria', [ function rcGalleryGalleriaProvider() {\n\n        this.loadUrls = [];\n\n        this.setUrls = function( urls ){\n            if ( angular.isArray(urls) ) {\n                this.loadUrls = urls;\n            }\n        };\n\n        this.setThemeUrls = function( urls ){\n            if ( angular.isArray(urls) ) {\n                this.themeUrls = urls;\n            }\n        };\n\n        this.$get = [ function() {\n\n            var load_urls = this.loadUrls;\n            var theme_urls = this.themeUrls;\n\n            return {\n                getLoadUrls: function () {\n                    return load_urls;\n                },\n                getThemeUrls: function () {\n                    return theme_urls;\n                }\n            };\n        }];\n\n    }]);\n\n\n\n    module.directive('rcgGalleria', [ '$log', '$interval', 'rcGalleryGalleria', function ( $log, $interval, rcGalleryGalleria) {\n        return {\n            restrict: 'EA',\n            require: \"^rc-gallery\",\n            link: function (scope, elem, attrs, rcGalleryApi) {\n\n                var galleriaApi;\n                var un_watch_is_ready;\n                var stop_gallery_elem;\n\n                function stop_find_gallery_elem() {\n                    $interval.cancel(stop_gallery_elem);\n                }\n\n\n                // INIT\n                function init ( is_ready ) {\n\n                    if (is_ready === true) {\n                        //Remove this watching.\n                        un_watch_is_ready();\n\n                        var n_interval = 0;\n\n                        stop_gallery_elem = $interval(function() {\n\n                            if ( rcGalleryApi.mediaGalleryElement.length !== 0 && angular.isDefined(window.Galleria) ) {\n                                stop_find_gallery_elem();\n\n                                //Extend with theme.\n                                if ( rcGalleryApi.theme && rcGalleryApi.theme.length > 0 ) {\n                                    angular.extend(rcGalleryApi.options, {theme: rcGalleryApi.theme});\n                                }\n\n                                //Extend with width.\n                                var width = parseInt(rcGalleryApi.width, 10);\n                                if ( !isNaN(width) ) {\n                                    angular.extend(rcGalleryApi.options, {width: width});\n                                }\n\n                                //Extend with height.\n                                var height = parseInt(rcGalleryApi.height, 10);\n                                if ( !isNaN(height) ) {\n                                    angular.extend(rcGalleryApi.options, {height: height});\n                                }\n\n                                var options = angular.extend({}, rcGalleryApi.options, {extend: function () {galleriaApi = this;}});\n\n                                angular.forEach(rcGalleryGalleria.getThemeUrls(), function (url) {\n                                    Galleria.loadTheme(url);\n                                });\n\n                                $log.debug(options);\n\n                                Galleria.run(\n                                    rcGalleryApi.mediaGalleryElement,\n                                    options\n                                );\n\n                                rcGalleryApi.setMediaReady();\n                            }\n                            else if ( n_interval >= 240 ) {\n                                stop_find_gallery_elem();\n                            }\n\n                            n_interval++;\n                        }, 250);\n                    }\n\n                }\n\n\n                rcGalleryApi.addLoadUrls(rcGalleryGalleria.getLoadUrls());\n\n                scope.$on('$destroy', function() {\n                    if(galleriaApi && galleriaApi.destroy) {\n                        galleriaApi.destroy();\n                    }\n                });\n\n\n                // Watchers\n                un_watch_is_ready = scope.$watch(function() {\n                    return rcGalleryApi.isReady;\n                }, init);\n\n            }\n        };\n    }]);\n\n}(angular, jQuery));\n"],"sourceRoot":"scripts/"}
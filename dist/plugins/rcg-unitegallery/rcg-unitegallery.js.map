{"version":3,"sources":["rcg-unitegallery.js"],"names":["angular","$","module","provider","rcGalleryUnitegalleryProvider","this","loadUrls","setUrls","urls","isArray","$get","load_urls","getLoadUrls","directive","$log","$interval","rcGalleryUnitegallery","restrict","require","link","scope","elem","attrs","rcGalleryApi","unitegalleryApi","un_watch_is_ready","stop_gallery_elem","addLoadUrls","stop_find_gallery_elem","cancel","init","is_ready","n_interval","mediaGalleryElement","length","unitegallery","theme","extend","options","gallery_theme","width","parseInt","isNaN","gallery_width","height","gallery_height","debug","setMediaReady","$on","destroy","$watch","isReady","jQuery"],"mappings":"CAAC,SAAUA,SAASC;IAEhB;IAEA,IAAIC,SAASF,QAAQE,OAAO;IAG5BA,OAAOC,SAAS,2BAA2B,SAASC;QAEhDC,KAAKC;QAELD,KAAKE,UAAU,SAAUC;YACrB,IAAKR,QAAQS,QAAQD,OAAQ;gBACzBH,KAAKC,WAAWE;;;QAKxBH,KAAKK,SAAS;YAEV,IAAIC,YAAYN,KAAKC;YAErB;gBACIM,aAAa;oBACT,OAAOD;;;;;IASvBT,OAAOW,UAAU,qBAAqB,QAAQ,aAAa,yBAAyB,SAAUC,MAAMC,WAAWC;QAC3G;YACIC,UAAU;YACVC,SAAS;YACTC,MAAM,SAAUC,OAAOC,MAAMC,OAAOC;gBAEhC,IAAIC;gBACJ,IAAIC;gBACJ,IAAIC;gBAEJH,aAAaI,YAAYX,sBAAsBJ;gBAG/C,SAASgB;oBACLb,UAAUc,OAAOH;;gBAKrB,SAASI,KAAOC;oBAEZ,IAAIA,aAAa,MAAM;wBAEnBN;wBAEA,IAAIO,aAAa;wBAEjBN,oBAAoBX,UAAU;4BAE1B,IAAKQ,aAAaU,oBAAoBC,WAAW,YAAYX,aAAaU,oBAAoBE,iBAAiB,YAAa;gCACxHP;gCAGA,IAAKL,aAAaa,SAASb,aAAaa,MAAMF,SAAS,GAAI;oCACvDlC,QAAQqC,OAAOd,aAAae;wCAAUC,eAAehB,aAAaa;;;gCAItE,IAAII,QAAQC,SAASlB,aAAaiB,OAAO;gCACzC,KAAME,MAAMF,QAAS;oCACjBxC,QAAQqC,OAAOd,aAAae;wCAAUK,eAAeH;;;gCAIzD,IAAII,SAASH,SAASlB,aAAaqB,QAAQ;gCAC3C,KAAMF,MAAME,SAAU;oCAClB5C,QAAQqC,OAAOd,aAAae;wCAAUO,gBAAgBD;;;gCAG1D9B,KAAKgC,MAAMvB,aAAae;gCAExBd,kBAAkBD,aAAaU,oBAAoBE,aAAaZ,aAAae;gCAE7Ef,aAAawB;mCAEZ,IAAKf,cAAc,KAAM;gCAC1BJ;;4BAGJI;2BACD;;;gBAKXZ,MAAM4B,IAAI,YAAY;oBAClB,IAAGxB,mBAAmBA,gBAAgByB,SAAS;wBAC3CzB,gBAAgByB;;;gBAMxBxB,oBAAoBL,MAAM8B,OAAO;oBAC7B,OAAO3B,aAAa4B;mBACrBrB;;;;EA5GnB,CAkHE9B,SAASoD","file":"rcg-unitegallery.js","sourcesContent":["(function (angular, $) {\n\n    'use strict';\n\n    var module = angular.module('rcGalleryUnitegallery', []);\n\n\n    module.provider('rcGalleryUnitegallery', [ function rcGalleryUnitegalleryProvider() {\n\n        this.loadUrls = [];\n\n        this.setUrls = function( urls ){\n            if ( angular.isArray(urls) ) {\n                this.loadUrls = urls;\n            }\n        };\n\n\n        this.$get = [ function() {\n\n            var load_urls = this.loadUrls;\n\n            return {\n                getLoadUrls: function () {\n                    return load_urls;\n                }\n            };\n        }];\n\n    }]);\n\n\n\n    module.directive('rcgUnitegallery', [ '$log', '$interval', 'rcGalleryUnitegallery', function ($log, $interval, rcGalleryUnitegallery) {\n        return {\n            restrict: 'EA',\n            require: \"^rc-gallery\",\n            link: function (scope, elem, attrs, rcGalleryApi) {\n\n                var unitegalleryApi;\n                var un_watch_is_ready;\n                var stop_gallery_elem;\n\n                rcGalleryApi.addLoadUrls(rcGalleryUnitegallery.getLoadUrls());\n\n\n                function stop_find_gallery_elem() {\n                    $interval.cancel(stop_gallery_elem);\n                }\n\n\n                // INIT\n                function init ( is_ready ) {\n\n                    if (is_ready === true) {\n                        //Remove this watching.\n                        un_watch_is_ready();\n\n                        var n_interval = 0;\n\n                        stop_gallery_elem = $interval(function() {\n\n                            if ( rcGalleryApi.mediaGalleryElement.length !== 0 && typeof rcGalleryApi.mediaGalleryElement.unitegallery === \"function\" ) {\n                                stop_find_gallery_elem();\n\n                                //Extend with theme.\n                                if ( rcGalleryApi.theme && rcGalleryApi.theme.length > 0 ) {\n                                    angular.extend(rcGalleryApi.options, {gallery_theme: rcGalleryApi.theme});\n                                }\n\n                                //Extend with width.\n                                var width = parseInt(rcGalleryApi.width, 10);\n                                if ( !isNaN(width) ) {\n                                    angular.extend(rcGalleryApi.options, {gallery_width: width});\n                                }\n\n                                //Extend with height.\n                                var height = parseInt(rcGalleryApi.height, 10);\n                                if ( !isNaN(height) ) {\n                                    angular.extend(rcGalleryApi.options, {gallery_height: height});\n                                }\n\n                                $log.debug(rcGalleryApi.options);\n\n                                unitegalleryApi = rcGalleryApi.mediaGalleryElement.unitegallery(rcGalleryApi.options);\n\n                                rcGalleryApi.setMediaReady();\n                            }\n                            else if ( n_interval >= 240 ) {\n                                stop_find_gallery_elem();\n                            }\n\n                            n_interval++;\n                        }, 250);\n                    }\n\n                }\n\n                scope.$on('$destroy', function() {\n                    if(unitegalleryApi && unitegalleryApi.destroy) {\n                        unitegalleryApi.destroy();\n                    }\n                });\n\n\n                // Watchers\n                un_watch_is_ready = scope.$watch(function() {\n                    return rcGalleryApi.isReady;\n                }, init);\n\n            }\n        };\n    }]);\n\n}(angular, jQuery));\n"],"sourceRoot":"scripts/"}